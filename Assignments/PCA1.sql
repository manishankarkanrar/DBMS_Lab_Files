DROP TABLE STUDENT;
DROP TABLE DEPARTMENT;

CREATE TABLE DEPARTMENT(
DID	CHAR(5),
DNAME 	VARCHAR2(10) 	NOT NULL,
LOC	VARCHAR2(15) 	DEFAULT 'SERAMPORE'	NOT NULL,
INTAKE	NUMBER(2)	DEFAULT 10,
CONSTRAINT PK_100 PRIMARY KEY(DID),
CONSTRAINT CH_100 CHECK (DID LIKE 'D%')
);

CREATE TABLE STUDENT(
SID	CHAR(5),
SNAME 	VARCHAR2(20)	NOT NULL,
AGE 	NUMBER(2),
SEX 	CHAR(1),
ADDRESS	VARCHAR2(30),
MOBILE	NUMBER(10)	NOT NULL,
DID	CHAR(5),
CONSTRAINT PK_200 PRIMARY KEY(SID),
CONSTRAINT CH_200 CHECK (SID LIKE 'S%'),
CHECK (AGE < 40),
CHECK (SEX IN ('M','F')),
FOREIGN KEY(DID) REFERENCES DEPARTMENT(DID) ON DELETE CASCADE
);


INSERT INTO DEPARTMENT VALUES ('D1001', 'CSE', 'KOLKATA', 60);
INSERT INTO DEPARTMENT VALUES ('D1002', 'IT', 'HOWRAH' , 55);
INSERT INTO DEPARTMENT VALUES ('D1003', 'APM', 'SERAMPORE', 65);
INSERT INTO DEPARTMENT VALUES ('D1004', 'TT', 'SERAMPORE', 55);

INSERT INTO STUDENT VALUES ('S1001', 'MANISH GUPTA', 23, 'M', 'KOLKATA', 7908479709, 'D1002');
INSERT INTO STUDENT VALUES ('S1004', 'RAHUL DAS', 19, 'M', 'SERAMPORE', 9144867009, 'D1004');
INSERT INTO STUDENT VALUES ('S1007', 'SWETA KUMARI', 25, 'F', 'HOWRAH', 9144679868, 'D1001');
INSERT INTO STUDENT VALUES ('S1003', 'AYAN SEN', 22, 'M', 'HOOGHLY', 6789078789, 'D1003');
INSERT INTO STUDENT VALUES ('S1005', 'MINA ROY', 20, 'F', 'KOLKATA', 7908677689, 'D1002');

/*
SELECT OWNER, TABLE_NAME, CONSTRAINT_NAME, CONSTRAINT_TYPE
FROM USER_CONSTRAINTS
WHERE TABLE_NAME='STUDENT';

SELECT SNAME
FROM STUDENT
WHERE AGE>20;
*/

delete from department where did='D1001';

select * from student;




