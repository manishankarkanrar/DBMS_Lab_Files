@D:\DBMS_Lab\msk.sql

--ASSIGNMENT : 1

CREATE TABLE HOTEL (
HOTELNO 	VARCHAR2(10),
HOTELNAME 	VARCHAR2(20),
CITY 		VARCHAR2(15) DEFAULT 'KOLKATA',
STATUS 		NUMBER(1),
PRIMARY KEY(HOTELNO),
CHECK (HOTELNO LIKE 'H%'),
CHECK (STATUS IN (1,2,3,4,5))
);

CREATE TABLE ROOM (
ROOMNO	VARCHAR2(10),
HOTELNO	VARCHAR2(10),
BED	VARCHAR2(10),
RATE 	NUMBER(8,2),
TYPE 	CHAR(3),
FLOOR	NUMBER(1),
PRIMARY KEY(ROOMNO),
CHECK (ROOMNO LIKE 'R%'),
FOREIGN KEY(HOTELNO) REFERENCES HOTEL(HOTELNO),
CHECK (TYPE IN ('AC','NAC')),
CHECK (FLOOR>=0)
);

CREATE TABLE GUEST (
GUESTNO		VARCHAR2(10),
GUESTNAME	VARCHAR2(20),
SEX		CHAR(1),
GUESTID 	VARCHAR2(10),
GUESTADDRESS 	VARCHAR2(25),
NOMEMBER	NUMBER(1) DEFAULT 1,
PRIMARY KEY(GUESTNO),
CHECK (GUESTNO LIKE 'G%'),
CHECK (SEX IN ('M','F'))
);

CREATE TABLE BOOKING (
BOOKID		VARCHAR2(5),
HOTELNO		VARCHAR2(10),
GUESTNO		VARCHAR2(10),
DATEFROM 	DATE,
DATETO 		DATE,
ROOMNO		VARCHAR2(10),
PRIMARY KEY(BOOKID),
CHECK (BOOKID LIKE 'B%'),
FOREIGN KEY(HOTELNO) REFERENCES HOTEL(HOTELNO),
FOREIGN KEY(GUESTNO) REFERENCES GUEST(GUESTNO),
FOREIGN KEY(ROOMNO) REFERENCES ROOM(ROOMNO)
);

--ASSIGNMENT : 2 

INSERT INTO HOTEL VALUES ('H001', 'TAJ BENGAL', 'KOLKATA',5);
INSERT INTO HOTEL VALUES ('H002', 'ASHOKA', 'AIRPORT', 3);
INSERT INTO HOTEL VALUES ('H003', 'HINDUSTAN', 'KOLKATA', 3);
INSERT INTO HOTEL VALUES ('H004', 'THE PARK', 'KOLKATA', 1);
INSERT INTO HOTEL VALUES ('H005', 'HYATT', 'SALT LAKE', 1);
INSERT INTO HOTEL VALUES ('H006', 'ORCHID', 'KOLKATA', 3);

SELECT * FROM HOTEL;

INSERT INTO ROOM VALUES ('R001', 'H001', 'SINGLE', 4200, 'AC', 1);
INSERT INTO ROOM VALUES ('R002', 'H001', 'DOUBLE', 2200, 'NAC', 0);
INSERT INTO ROOM VALUES ('R003', 'H002', 'SOFA CUM', 4800, 'AC', 2);
INSERT INTO ROOM VALUES ('R004', 'H002', 'SINGLE', 3000, 'NAC', 3);
INSERT INTO ROOM VALUES ('R005', 'H003', 'DOUBLE', 5000, 'AC', 1);
INSERT INTO ROOM VALUES ('R006', 'H003', 'SINGLE', 3000, 'NAC', 4);
INSERT INTO ROOM VALUES ('R007', 'H003', 'SOFA CUM', 4500, 'AC', 0);
INSERT INTO ROOM VALUES ('R008', 'H004', 'SINGLE', 2500 ,'NAC', 2);
INSERT INTO ROOM VALUES ('R009', 'H004', 'SOFA CUM', 3500, 'AC', 3);
INSERT INTO ROOM VALUES ('R010', 'H005', 'DOUBLE', 3800, 'NAC', 4);
INSERT INTO ROOM VALUES ('R011', 'H005', 'DOUBLE', 4500, 'AC', 1);
INSERT INTO ROOM VALUES ('R012', 'H006', 'SINGLE', 2700, 'NAC', 2);

SELECT * FROM ROOM;

INSERT INTO GUEST VALUES ('G001', 'NAREN KUMAR', 'M', 'AODPN8133Q', 'DELHI', 2);
INSERT INTO GUEST VALUES ('G002', 'AMRITA ROY', 'F', 'AEWPM7385L', 'BANGALORE', 2);
INSERT INTO GUEST VALUES ('G003', 'SAIKAT SINHA', 'M', 'APWKL2532Q', 'HYDERABAD', 2);
INSERT INTO GUEST VALUES ('G004', 'KIRAN KHAN', 'F', 'AWPOL253M', 'MUMBAI', 1);
INSERT INTO GUEST VALUES ('G005', 'SUKUMAR DAS', 'M', 'ARTP35629Q', 'KOLKATA', 1);
INSERT INTO GUEST VALUES ('G006', 'HARI HAR', 'M', 'ADFPL4563Q', 'HYDERABAD', 3);

SELECT * FROM GUEST;


INSERT INTO BOOKING VALUES ('B0001', 'H001', 'G001', '20-JAN-2014', '02-FEB-2014', 'R002');
INSERT INTO BOOKING VALUES ('B0002', 'H001', 'G002', '5-JAN-2014', '12-JAN-2014', 'R002');
INSERT INTO BOOKING VALUES ('B0003', 'H002', 'G003', '10-MAR-2014', '15-MAR-2014', 'R003');
INSERT INTO BOOKING VALUES ('B0004', 'H003', 'G004', '30-JAN-2014', '07-FEB-2014', 'R007');
INSERT INTO BOOKING VALUES ('B0005', 'H004', 'G001', '21-MAR-2014', '29-MAR-2014', 'R008');
INSERT INTO BOOKING VALUES ('B0006', 'H004', 'G005', '22-FEB-2014', '28-FEB-2014', 'R008');
INSERT INTO BOOKING VALUES ('B0007', 'H004', 'G006', '10-JAN-2014', NULL, 'R009');
INSERT INTO BOOKING VALUES ('B0008', 'H005', 'G002', '12-FEB-2014', '22-FEB-2014', 'R010');
INSERT INTO BOOKING VALUES ('B0009', 'H005', 'G006', '02-MAR-2014', '15-MAR-2014', 'R010');
INSERT INTO BOOKING VALUES ('B0010', 'H006', 'G006', '06-APR-2014', '18-APR-2014', 'R012');
INSERT INTO BOOKING VALUES ('B0011', 'H006', 'G003', '19-APR-2014', '21-APR-2014', 'R012' );

SELECT * FROM BOOKING;




